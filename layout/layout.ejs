<!DOCTYPE html>
<html lang="<%= config.language %>">

<head>
    <%- partial('_partial/head',{cache: true}) %>
</head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        const toggleThemeBtn = document.getElementById("mobile-toggle-theme");
        if (toggleThemeBtn) {
            toggleThemeBtn.innerText = isDark ? "路 Dark" : "路 Light";
        }
        document.addEventListener("DOMContentLoaded", () => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            const toggleThemeBtn = document.getElementById("mobile-toggle-theme");

        if (isDark) {
            pagebody.classList.add('dark-theme');
            if (toggleThemeBtn) toggleThemeBtn.innerText = "路 Dark";
        } else {
            pagebody.classList.remove('dark-theme');
            if (toggleThemeBtn) toggleThemeBtn.innerText = "路 Light";
        }
    });
    </script>
    
    <div class="wrapper">
        <%- partial('_partial/header',{cache: true}) %>
            <div class="main">
                <%- body %>
            </div>
            <%- partial('_partial/footer',{cache: true}) %>
    </div>
    <div class="pagetop"><i class="fa-solid fa-chevron-up"></i></div>
    <div class="page-link"><a href="<%- config.root %>"><i class="fa-solid fa-house"></i></a></div>
</body>

</html>